---
output: md_document
---


# dmutate
Mutate a `data.frame`, adding random variates.

```{r, message=FALSE}
library(dplyr)
library(dmutate)
```

```{r, message=FALSE}
low_wt <- 70
high_wt <- 90
```


```{r, message=FALSE}
mu <- 80
p.female <- 0.24
```


```{r, message=FALSE}
data.frame(ID=1:20) %>%
  mutate(GROUP = ID%%2) %>%
  mutate_random(WT[low_wt,high_wt] ~ rnorm(mu,1)) %>%
  mutate_random(STUDY_RE ~ rnorm(0,sqrt(50))|GROUP) %>%
  mutate_random(SEX ~ rbinomial(p.female)) %>%
  mutate_random(sigma ~ rgamma(1,1)) %>%
  mutate_random(kappa ~ rgamma(1,1)|GROUP)

```


# Create a formula with mutate to calculate new columns in the `data.frame` using `dplyr::mutate`

```{r}
a <- X ~ rnorm(50,3)
b <- Y ~ expr(X/2 + c)
cov1 <- covset(a,b)
e <- list(c=3)
```

```{r}
data <- data.frame(ID=1:3)

mutate_random(data,cov1,envir=e)
```





